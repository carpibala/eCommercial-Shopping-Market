<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Policy - TechStore</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/api.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        .main-header {
            background: rgba(15,15,15,0.95);
            backdrop-filter: blur(10px);
            padding: 15px 5%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #333;
        }
        .logo a { color:#00FFFF; font-size:1.8em; font-weight:bold; text-decoration:none; }
        .main-nav ul { display:flex; list-style:none; gap:30px; }
        .main-nav a { color:#ccc; transition:0.3s; text-decoration:none; }
        .main-nav a:hover, .main-nav a.active { color:#00FFFF; }
        .user-actions a { margin-left:15px; color:#aaa; text-decoration:none; }
        .user-actions span { color:#00FFFF; }
        #logoutBtn { color:#FF4700 !important; cursor:pointer; }

        .page-title {
            text-align:center;
            font-size:3em;
            margin:60px 0 40px;
            color:#f0f0f0;
            position:relative;
        }
        .page-title::after {
            content:'';
            position:absolute;
            left:50%; bottom:-18px;
            transform:translateX(-50%);
            width:160px; height:6px;
            background:#00FFFF;
            border-radius:3px;
            box-shadow:0 0 25px #00FFFF;
        }

        .container {
            max-width:900px;
            margin:0 auto;
            padding:40px 20px;
            line-height:2;
        }
        .policy-section h2 {
            color:#00FFFF;
            font-size:2.2em;
            margin:60px 0 25px;
            padding-bottom:10px;
            border-bottom:2px solid #333;
        }
        .policy-section p {
            color:#ccc;
            font-size:1.15em;
            margin:20px 0;
        }
        .policy-section ul {
            color:#bbb;
            margin:20px 0 30px 30px;
        }
        .policy-section li {
            margin:12px 0;
        }
    </style>
</head>
<body>

<header class="main-header">
    <div class="logo"><a href="index.html">Super NiuBi Market</a></div>
    <nav class="main-nav">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="help_faq.html">FAQ</a></li>
            <li><a href="help_policy.html" style="color:#00FFFF;">Policy</a></li>
        </ul>
    </nav>
    <div class="user-actions">
        <a href="register.html">Register</a> / <a href="login.html">Login</a>
        <a href="cart.html">Cart (<span id="cartCount">0</span>)</a>
    </div>
</header>

<main>
    <h1 class="page-title">Service Policy</h1>

    <div class="container">
        <div class="policy-section">
            <h2>Privacy Policy</h2>
            <p>We take your privacy seriously and commit to:</p>
            <ul>
                <li>Never sell or disclose your personal information to third parties</li>
                <li>Only use your name, phone, and address when necessary (e.g., order delivery, after-sales service)</li>
                <li>Use HTTPS encryption to ensure data security</li>
                <li>You have the right to view, modify, or delete your personal information at any time</li>
            </ul>
        </div>

        <div class="policy-section">
            <h2>Return & Exchange Policy</h2>
            <p>We provide comprehensive after-sales service:</p>
            <ul>
                <li><strong>7-Day No-Reason Returns</strong>: Return items in good condition (shipping at your expense)</li>
                <li><strong>15-Day Exchange</strong>: Free replacement for non-human damage</li>
                <li><strong>1-Year Warranty</strong>: All products covered nationwide</li>
                <li><strong>Free Return Shipping for Quality Issues</strong>: We cover round-trip shipping for defects</li>
                <li>Refunds processed to original payment method within 3-7 business days</li>
            </ul>
        </div>

        <div class="policy-section">
            <h2>Shipping & Logistics</h2>
            <p>Hong Kong Local: Ships within 24 hours, next-day delivery<br>
               Mainland China: Ships within 48 hours, SF Express free shipping, 3-5 days delivery<br>
               Weekend and public holiday orders ship on next business day</p>
        </div>
    </div>
</main>

<!-- Common login state script (included on all pages) -->
<script>
let currentUser = null;
try {
    const token = localStorage.getItem('token');
    const userStr = localStorage.getItem('user');
    if (token && userStr) {
        currentUser = JSON.parse(userStr);
    }
} catch (e) {}

// Update navigation bar
function updateNav() {
    const $actions = $('.user-actions');
    if (currentUser) {
        $actions.html(`
            <span>Welcome, ${currentUser.name}</span>
            <a href="cart.html">Cart (<span id="cartCount">0</span>)</a>
            <a href="#" id="logoutBtn">Logout</a>
        `);
        $('#logoutBtn').click(e => {
            e.preventDefault();
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            location.reload();
        });
    } else {
        $actions.html(`
            <a href="register.html">Register</a> / <a href="login.html">Login</a>
            <a href="cart.html">Cart (<span id="cartCount">0</span>)</a>
        `);
    }
}

// Update cart count
async function updateCartCount() {
    if (!currentUser) {
        $('#cartCount').text('0');
        return;
    }
    try {
        const cart = await API.get('/user/cart');
        const count = cart.reduce((sum, item) => sum + item.quantity, 0);
        $('#cartCount').text(count);
    } catch (err) {
        $('#cartCount').text('0');
    }
}

$(document).ready(function() {
    updateNav();
    updateCartCount();
});
</script>

</body>
</html>